<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-US">

<!--     -->
<head>
<!-- GenHTML revision 23224-->
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Customize Your Image by Editing the Manifests - OpenSolaris 2010.03 Distribution Constructor Guide</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2010-03-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/opensol.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo">
      <a href="http://www.opensolaris.com"><img border="0" src="graphics/opensolaris_logo_trans.png"></img></a>
   </div>
   <div class="Title">OpenSolaris 2010.03 Distribution Constructor Guide</div>
</div>
<div class="headerbar"></div>


<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="sysreq.html">Previous</a>
             </td>
             <td align="right">
                 <a href="scripts.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="index.html">1.&nbsp;&nbsp;Introduction to the Distribution Constructor</a></p>
<p class="toc level1 tocsp"><a href="using.html">2.&nbsp;&nbsp;Design and Build OpenSolaris Images</a></p>
<p class="toc level2"><a href="sysreq.html">System Requirements</a></p>
<div id="scrolltoc" class="onpage">
<p class="toc level2"><a href="">Customize Your Image by Editing the Manifests</a></p>
</div>
<p class="toc level2"><a href="scripts.html">Further Customize an Image Using Finalizer Scripts</a></p>
<p class="toc level2"><a href="distro_const.html">Building an Image</a></p>
<p class="toc level2"><a href="trouble.html">Troubleshooting</a></p>
<p class="toc level2"><a href="addl.html">Additional Information</a></p>
<p class="toc level1 tocsp"><a href="vm.html">3.&nbsp;&nbsp;x86: Design and Build a Virtual Machine</a></p>
<p class="toc level1 tocsp"><a href="appendix.html">A.&nbsp;&nbsp;Custom Finalizer Scripts -- Examples</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="manifest"></a><h3>Customize Your Image by Editing the Manifests</h3>
<p>The distribution constructor creates images based on settings specified in XML files, called
<b>manifest files</b>. The manifest files contain specifications for the contents and parameters of the
ISO images that you create using the distribution constructor. The distribution constructor contains default
manifests that can be used to create a custom Slim CD, an x86
AI ISO image, a SPARC AI ISO image, or a virtual machine.</p><p>Manifests specify parameters such as the following:</p>
<ul><li><p>Names of the packages to be included in the image</p></li>
<li><p>Network location of the repository to access to retrieve packages for the image</p></li>
<li><p>Name and location of scripts used to finalize the creation of the new image</p></li></ul>
<p>The default manifest files included in the <tt>SUNWdistro-const</tt> package are:</p><a name="manifesttbl"></a><h6>Table&nbsp;2-2 Default Manifests</h6><table><col width="22%"><col width="38%"><col width="38%"><tr><th align="left" valign="top" scope="column"><p>Manifest Type</p></th>
<th align="left" valign="top" scope="column"><p>Manifest Location</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p>x86
ISO image</p></td>
<td align="left" valign="top" scope="row"><pre>/usr/share/distro_const/slim_cd/
all_lang_slim_cd_x86.xml</pre></td>
<td align="left" valign="top" scope="row"><p>This manifest is used to create an ISO image comparable to
the OpenSolaris Live CD.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>SPARC AI ISO image</p></td>
<td align="left" valign="top" scope="row"><pre>/usr/share/distro_const/
auto_install/ai_sparc_image.xml</pre></td>
<td align="left" valign="top" scope="row"><p>This manifest is used to create a
SPARC AI ISO image for automated installations of the OpenSolaris OS to SPARC
clients.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>x86 AI ISO image</p></td>
<td align="left" valign="top" scope="row"><pre>/usr/share/distro_const/
auto_install/ai_x86_image.xml</pre></td>
<td align="left" valign="top" scope="row"><p>This manifest is used to create an x86 AI
ISO image for automated installations of the OpenSolaris OS to x86 clients.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>x86 virtual
machine</p></td>
<td align="left" valign="top" scope="row"><pre>/usr/share/distro_const/
vmc/vmc_image.xml</pre></td>
<td align="left" valign="top" scope="row"><p><b>Starting in the OpenSolaris 2010.03 release,</b> this manifest is used to create a virtual machine image. For
instructions, see <a href="vm.html">Chapter&nbsp;3, x86: Design and Build a Virtual Machine</a>.</p></td>
</tr>
</table>

<a name="modman"></a><h4>Modifying Manifest Contents</h4>
<p>All the fields in each manifest file provide preset, default values that will
create the type of ISO image you need. You have the option
to manually edit these preset fields in a manifest file to further customize
the resulting image.</p><p>If you want to modify the manifest information, use the following process:</p>
<ol><li><p>Copy one of the default manifests and create a custom manifest file with a new file name.</p><p>You will reference the manifest file by name when you use the <tt>distro_const</tt> command to create an image.</p>
<hr><p><b>Note - </b>Always back up the original manifest file and the default scripts before copying them.</p>
<hr>
</li>
<li><p>Edit the manifest fields to suit your needs. See the <tt>dc_manifest</tt>(4) man page for instructions.</p></li>
<li><p>If the default finalizer scripts do not leave the <tt>build_area</tt> as you need it, you can create your own scripts to make further modifications. If you do create new scripts, update the script references in the finalizer section of the manifest file.</p><p>For instructions about editing the finalizer script section in the manifest file, see the <tt>dc_manifest</tt>(4) man page.</p><p>For instructions about creating new scripts, see <a href="scripts.html">Further Customize an Image Using Finalizer Scripts</a>.</p></li>
<li><p>When you have completed any revisions to the manifest file and, optionally, customized the finalizer scripts as described in the next section, you can proceed with running the <tt>distro_const</tt> utility to create an image. For instructions, see <a href="distro_const.html">Building an Image</a>.</p></li></ol>

         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="sysreq.html">Previous</a>
             </td>
             <td align="right">
                 <a href="scripts.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

